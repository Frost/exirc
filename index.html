<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Exirc by bitwalker</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Exirc</h1>
          <h2>IRC client adapter for Elixir projects</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/bitwalker/exirc/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/bitwalker/exirc/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/bitwalker/exirc" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a name="exirc" class="anchor" href="#exirc"><span class="octicon octicon-link"></span></a>ExIrc</h1>

<p>ExIrc is a IRC client library for Elixir projects. It aims to have a clear, well
documented API, with the minimal amount of code necessary to allow you to connect and
communicate with IRC servers effectively. It aims to implement the full RFC2812 protocol,
and relevant parts of RFC1459.</p>

<h2>
<a name="why" class="anchor" href="#why"><span class="octicon octicon-link"></span></a>Why?</h2>

<p>I had need of this in another project of mine, and found that there were no good libraries available, 
documentation was always missing, it wasn't clear how to use, and in general were not easy to work
with.</p>

<h2>
<a name="status" class="anchor" href="#status"><span class="octicon octicon-link"></span></a>Status</h2>

<p><a href="https://app.wercker.com/project/bykey/236e4911da7c4575c49b1b20b9ec775d"><img src="https://app.wercker.com/status/236e4911da7c4575c49b1b20b9ec775d/m/" alt="wercker
status" title="wercker
status"></a></p>

<p>Alpha. The API is complete and everything is implemented, but little testing has been done (I've tested the API against my own local IRC server, but nothing robust enough to call this production ready). Any bugs you find, please report them in the issue tracker and I'll address them as soon as possible. If you have any questions, or if the documentation seems incomplete, let me know and I'll fill it in.</p>

<h2>
<a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h2>

<p>If you use expm, the ExIrc package is available
<a href="http://expm.co/exirc">here</a>.</p>

<p>Add ExIrc as a dependency to your project in mix.exs, and add it as an application:</p>

<div class="highlight highlight-elixir"><pre>  <span class="k">defp</span> <span class="n">deps</span> <span class="k">do</span>
<span class="k">    </span><span class="p">[{</span><span class="ss">:exirc</span><span class="p">,</span> <span class="s2">"~&gt; 0.4.0"</span><span class="p">}]</span>
  <span class="k">end</span>

  <span class="k">defp</span> <span class="n">application</span> <span class="k">do</span>
<span class="k">    </span><span class="p">[</span><span class="ss">applications:</span> <span class="p">[</span><span class="ss">:exirc</span><span class="p">],</span>
     <span class="o">...</span><span class="p">]</span>
  <span class="k">end</span>
</pre></div>

<p>Then fetch it using <code>mix deps.get</code>.</p>

<p>To use ExIrc, you need to start a new client process, and add event handlers. An example event handler module
is located in <code>lib/exirc/example_handler.ex</code>. <strong>The example handler is kept up to date with all events you can
expect to receive from the client</strong>. A simple module is defined below as an example of how you might
use ExIrc in practice. ExampleHandler here is the one that comes bundled with ExIrc.</p>

<div class="highlight highlight-elixir"><pre><span class="k">defmodule</span> <span class="no">ExampleSupervisor</span> <span class="k">do</span>
<span class="k">    defmodule</span> <span class="no">State</span> <span class="k">do</span>
<span class="k">        </span><span class="n">defstruct</span> <span class="ss">host:</span> <span class="s2">"chat.freenode.net"</span><span class="p">,</span>
                  <span class="ss">port:</span> <span class="m">6667</span><span class="p">,</span>
                  <span class="ss">pass:</span> <span class="s2">""</span><span class="p">,</span>
                  <span class="ss">nick:</span> <span class="s2">"bitwalker"</span><span class="p">,</span>
                  <span class="ss">user:</span> <span class="s2">"bitwalker"</span><span class="p">,</span>
                  <span class="ss">name:</span> <span class="s2">"Paul Schoenfelder"</span><span class="p">,</span>
                  <span class="ss">client:</span> <span class="no">nil</span><span class="p">,</span>
                  <span class="ss">handlers:</span> <span class="p">[]</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="n">start_link</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">do</span>
<span class="k">        </span><span class="ss">:gen_server</span><span class="o">.</span><span class="n">start_link</span><span class="p">(</span><span class="bp">__MODULE__</span><span class="p">,</span> <span class="p">[</span><span class="err">%</span><span class="no">State</span><span class="p">{}])</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="n">init</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="k">do</span>
<span class="k">        </span><span class="c1"># Start the client and handler processes, the ExIrc supervisor is automatically started when your app runs</span>
        <span class="p">{</span><span class="ss">:ok</span><span class="p">,</span> <span class="n">client</span><span class="p">}</span>  <span class="o">=</span> <span class="no">ExIrc</span><span class="o">.</span><span class="n">start_client!</span><span class="p">()</span>
        <span class="p">{</span><span class="ss">:ok</span><span class="p">,</span> <span class="n">handler</span><span class="p">}</span> <span class="o">=</span> <span class="no">ExampleHandler</span><span class="o">.</span><span class="n">start_link</span><span class="p">(</span><span class="no">nil</span><span class="p">)</span>

        <span class="c1"># Register the event handler with ExIrc</span>
        <span class="no">ExIrc</span><span class="o">.</span><span class="no">Client</span><span class="o">.</span><span class="n">add_handler</span> <span class="n">client</span><span class="p">,</span> <span class="n">handler</span>

        <span class="c1"># Connect and logon to a server, join a channel and send a simple message</span>
        <span class="no">ExIrc</span><span class="o">.</span><span class="no">Client</span><span class="o">.</span><span class="n">connect!</span>   <span class="n">client</span><span class="p">,</span> <span class="n">state</span><span class="o">.</span><span class="n">host</span><span class="p">,</span> <span class="n">state</span><span class="o">.</span><span class="n">port</span>
        <span class="no">ExIrc</span><span class="o">.</span><span class="no">Client</span><span class="o">.</span><span class="n">logon</span>      <span class="n">client</span><span class="p">,</span> <span class="n">state</span><span class="o">.</span><span class="n">pass</span><span class="p">,</span> <span class="n">state</span><span class="o">.</span><span class="n">nick</span><span class="p">,</span> <span class="n">state</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">state</span><span class="o">.</span><span class="n">name</span>
        <span class="no">ExIrc</span><span class="o">.</span><span class="no">Client</span><span class="o">.</span><span class="n">join</span>       <span class="n">client</span><span class="p">,</span> <span class="s2">"</span><span class="err">#</span><span class="s2">elixir-lang"</span>
        <span class="no">ExIrc</span><span class="o">.</span><span class="no">Client</span><span class="o">.</span><span class="n">msg</span>        <span class="n">client</span><span class="p">,</span> <span class="ss">:privmsg</span><span class="p">,</span> <span class="s2">"</span><span class="err">#</span><span class="s2">elixir-lang"</span><span class="p">,</span> <span class="s2">"Hello world!"</span>

        <span class="p">{</span><span class="ss">:ok</span><span class="p">,</span> <span class="err">%</span><span class="p">{</span><span class="n">state</span> <span class="o">|</span> <span class="ss">:client</span> <span class="o">=&gt;</span> <span class="n">client</span><span class="p">,</span> <span class="ss">:handlers</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="n">handler</span><span class="p">]}}</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="n">terminate</span><span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span> <span class="k">do</span>
<span class="k">        </span><span class="c1"># Quit the channel and close the underlying client connection when the process is terminating</span>
        <span class="no">ExIrc</span><span class="o">.</span><span class="no">Client</span><span class="o">.</span><span class="n">quit</span> <span class="n">state</span><span class="o">.</span><span class="n">client</span><span class="p">,</span> <span class="s2">"Goodbye, cruel world."</span>
        <span class="no">ExIrc</span><span class="o">.</span><span class="no">Client</span><span class="o">.</span><span class="n">stop!</span> <span class="n">state</span><span class="o">.</span><span class="n">client</span>
        <span class="ss">:ok</span>
    <span class="k">end</span>
<span class="k">end</span>
</pre></div>
        </section>

        <footer>
          Exirc is maintained by <a href="https://github.com/bitwalker">bitwalker</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>